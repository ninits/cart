{"version":3,"sources":["webpack:///./src/views/cart.vue?6775","webpack:///./src/views/cart.vue?1c30","webpack:///src/views/cart.vue","webpack:///./src/views/cart.vue?d311","webpack:///./src/views/cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","item","index","key","attrs","productDictList","id","image","_v","_s","name","cost","on","$event","handleCount","count","handleDelete","cartList","length","_e","directives","rawName","value","expression","domProps","target","composing","promotionCode","handleCheckCode","countAll","costAll","promotion","handleOrder","staticRenderFns","computed","$store","state","productList","forEach","dict","data","product","methods","commit","window","alert","dispatch","then","component"],"mappings":"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","file":"js/chunk-5df930d0.401feaa4.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=05bb2064&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=05bb2064&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_vm._m(0),_c('div',{staticClass:\"cart-content\"},[_vm._l((_vm.cartList),function(item,index){return _c('div',{key:index,staticClass:\"cart-content-main\"},[_c('div',{staticClass:\"cart-info\"},[_c('img',{attrs:{\"src\":_vm.productDictList[item.id].image}}),_c('span',[_vm._v(_vm._s(_vm.productDictList[item.id].name))])]),_c('div',{staticClass:\"cart-price\"},[_vm._v(\"¥ \"+_vm._s(_vm.productDictList[item.id].cost))]),_c('div',{staticClass:\"cart-count\"},[_c('span',{staticClass:\"cart-control-minus\",on:{\"click\":function($event){return _vm.handleCount(index, -1)}}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(item.count)+\" \"),_c('span',{staticClass:\"cart-control-add\",on:{\"click\":function($event){return _vm.handleCount(index, 1)}}},[_vm._v(\"+\")])]),_c('div',{staticClass:\"cart-cost\"},[_vm._v(\" ¥ \"+_vm._s(_vm.productDictList[item.id].cost * item.count)+\" \")]),_c('div',{staticClass:\"cart-delete\"},[_c('span',{staticClass:\"cart-control-delete\",on:{\"click\":function($event){return _vm.handleDelete(index)}}},[_vm._v(\"删除\")])])])}),(!_vm.cartList.length)?_c('div',{staticClass:\"cart-empty\"},[_vm._v(\"购物车为空\")]):_vm._e()],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cartList.length),expression:\"cartList.length\"}],staticClass:\"cart-promotion\"},[_c('span',[_vm._v(\"使用优惠码：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.promotionCode),expression:\"promotionCode\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.promotionCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.promotionCode=$event.target.value}}}),_c('span',{staticClass:\"cart-control-promotion\",on:{\"click\":_vm.handleCheckCode}},[_vm._v(\"验证\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cartList.length),expression:\"cartList.length\"}],staticClass:\"cart-footer\"},[_c('div',{staticClass:\"cart-footer-desc\"},[_vm._v(\" 共计 \"),_c('span',[_vm._v(_vm._s(_vm.countAll))]),_vm._v(\" 件商品 \")]),_c('div',{staticClass:\"cart-footer-desc\"},[_vm._v(\" 应付总额 \"),_c('span',[_vm._v(\"¥ \"+_vm._s(_vm.costAll - _vm.promotion))]),_c('br'),(_vm.promotion)?[_vm._v(\" （优惠 \"),_c('span',[_vm._v(\"¥ \"+_vm._s(_vm.promotion))]),_vm._v(\"） \")]:_vm._e()],2),_c('div',{staticClass:\"cart-footer-desc\"},[_c('div',{staticClass:\"cart-control-order\",on:{\"click\":_vm.handleOrder}},[_vm._v(\"现在结算\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-header\"},[_c('div',{staticClass:\"cart-header-title\"},[_vm._v(\"购物清单\")]),_c('div',{staticClass:\"cart-header-main\"},[_c('div',{staticClass:\"cart-info\"},[_vm._v(\"商品信息\")]),_c('div',{staticClass:\"cart-price\"},[_vm._v(\"单价\")]),_c('div',{staticClass:\"cart-count\"},[_vm._v(\"数量\")]),_c('div',{staticClass:\"cart-cost\"},[_vm._v(\"小计\")]),_c('div',{staticClass:\"cart-delete\"},[_vm._v(\"删除\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cart\">\r\n    <div class=\"cart-header\">\r\n      <div class=\"cart-header-title\">购物清单</div>\r\n      <div class=\"cart-header-main\">\r\n        <div class=\"cart-info\">商品信息</div>\r\n        <div class=\"cart-price\">单价</div>\r\n        <div class=\"cart-count\">数量</div>\r\n        <div class=\"cart-cost\">小计</div>\r\n        <div class=\"cart-delete\">删除</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"cart-content\">\r\n      <div\r\n        class=\"cart-content-main\"\r\n        v-for=\"(item, index) in cartList\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"cart-info\">\r\n          <img :src=\"productDictList[item.id].image\" />\r\n          <span>{{ productDictList[item.id].name }}</span>\r\n        </div>\r\n        <div class=\"cart-price\">¥ {{ productDictList[item.id].cost }}</div>\r\n        <div class=\"cart-count\">\r\n          <span class=\"cart-control-minus\" @click=\"handleCount(index, -1)\"\r\n            >-</span\r\n          >\r\n          {{ item.count }}\r\n          <span class=\"cart-control-add\" @click=\"handleCount(index, 1)\">+</span>\r\n        </div>\r\n        <div class=\"cart-cost\">\r\n          ¥ {{ productDictList[item.id].cost * item.count }}\r\n        </div>\r\n        <div class=\"cart-delete\">\r\n          <span class=\"cart-control-delete\" @click=\"handleDelete(index)\"\r\n            >删除</span\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"cart-empty\" v-if=\"!cartList.length\">购物车为空</div>\r\n    </div>\r\n    <div class=\"cart-promotion\" v-show=\"cartList.length\">\r\n      <span>使用优惠码：</span>\r\n      <input type=\"text\" v-model=\"promotionCode\" />\r\n      <span class=\"cart-control-promotion\" @click=\"handleCheckCode\">验证</span>\r\n    </div>\r\n    <div class=\"cart-footer\" v-show=\"cartList.length\">\r\n      <div class=\"cart-footer-desc\">\r\n        共计 <span>{{ countAll }}</span> 件商品\r\n      </div>\r\n      <div class=\"cart-footer-desc\">\r\n        应付总额 <span>¥ {{ costAll - promotion }}</span>\r\n        <br />\r\n        <template v-if=\"promotion\">\r\n          （优惠 <span>¥ {{ promotion }}</span\r\n          >）\r\n        </template>\r\n      </div>\r\n      <div class=\"cart-footer-desc\">\r\n        <div class=\"cart-control-order\" @click=\"handleOrder\">现在结算</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport product_data from \"../../product.js\";\r\nexport default {\r\n  computed: {\r\n    cartList() {\r\n      return this.$store.state.cartList;\r\n    },\r\n    productDictList() {\r\n      const dict = {};\r\n      this.productList.forEach((item) => {\r\n        dict[item.id] = item;\r\n      });\r\n      return dict;\r\n    },\r\n    countAll() {\r\n      let count = 0;\r\n      this.cartList.forEach((item) => {\r\n        count += item.count;\r\n      });\r\n      return count;\r\n    },\r\n    costAll() {\r\n      let cost = 0;\r\n      this.cartList.forEach((item) => {\r\n        cost += this.productDictList[item.id].cost * item.count;\r\n      });\r\n      return cost;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      productList: product_data,\r\n      promotionCode: \"\",\r\n      promotion: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    handleCount(index, count) {\r\n      if (count < 0 && this.cartList[index].count === 1) return;\r\n      this.$store.commit(\"editCartCount\", {\r\n        id: this.cartList[index].id,\r\n        count: count,\r\n      });\r\n    },\r\n    handleDelete(index) {\r\n      this.$store.commit(\"deleteCart\", this.cartList[index].id);\r\n    },\r\n    handleCheckCode() {\r\n      if (this.promotionCode === \"\") {\r\n        window.alert(\"请输入优惠码\");\r\n        return;\r\n      }\r\n      if (this.promotionCode !== \"Vue.js\") {\r\n        window.alert(\"优惠码验证失败\");\r\n      } else {\r\n        this.promotion = 500;\r\n      }\r\n    },\r\n    handleOrder() {\r\n      this.$store.dispatch(\"buy\").then(() => {\r\n        window.alert(\"购买成功\");\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.cart {\r\n  margin: 32px;\r\n  background: #fff;\r\n  border: 1px solid #dddee1;\r\n  border-radius: 10px;\r\n}\r\n.cart-header-title {\r\n  padding: 16px 32px;\r\n  border-bottom: 1px solid #dddee1;\r\n  border-radius: 10px 10px 0 0;\r\n  background: #f8f8f9;\r\n}\r\n.cart-header-main {\r\n  padding: 8px 32px;\r\n  overflow: hidden;\r\n  border-bottom: 1px solid #dddee1;\r\n  background: #eee;\r\n  overflow: hidden;\r\n}\r\n.cart-empty {\r\n  text-align: center;\r\n  padding: 32px;\r\n}\r\n.cart-header-main div {\r\n  text-align: center;\r\n  float: left;\r\n  font-size: 14px;\r\n}\r\ndiv.cart-info {\r\n  width: 60%;\r\n  text-align: left;\r\n}\r\n.cart-price {\r\n  width: 10%;\r\n}\r\n.cart-count {\r\n  width: 10%;\r\n}\r\n.cart-cost {\r\n  width: 10%;\r\n}\r\n.cart-delete {\r\n  width: 10%;\r\n}\r\n.cart-content-main {\r\n  padding: 0 32px;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  text-align: center;\r\n  border-bottom: 1px dashed #e9eaec;\r\n  overflow: hidden;\r\n}\r\n.cart-content-main div {\r\n  float: left;\r\n}\r\n.cart-content-main img {\r\n  width: 40px;\r\n  height: 40px;\r\n  position: relative;\r\n  top: 10px;\r\n}\r\n.cart-control-minus,\r\n.cart-control-add {\r\n  display: inline-block;\r\n  margin: 0 4px;\r\n  width: 24px;\r\n  height: 24px;\r\n  line-height: 22px;\r\n  text-align: center;\r\n  background: #f8f8f9;\r\n  border-radius: 50%;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\r\n  cursor: pointer;\r\n}\r\n.cart-control-delete {\r\n  cursor: pointer;\r\n  color: #2d8cf0;\r\n}\r\n.cart-promotion {\r\n  padding: 16px 32px;\r\n}\r\n.cart-control-promotion,\r\n.cart-control-order {\r\n  display: inline-block;\r\n  padding: 8px 32px;\r\n  border-radius: 6px;\r\n  background: #2d8cf0;\r\n  color: #fff;\r\n  cursor: pointer;\r\n}\r\n.cart-control-promotion {\r\n  padding: 2px 6px;\r\n  font-size: 12px;\r\n  border-radius: 3px;\r\n}\r\n.cart-footer {\r\n  padding: 32px;\r\n  text-align: right;\r\n}\r\n.cart-footer-desc {\r\n  display: inline-block;\r\n  padding: 0 16px;\r\n}\r\n.cart-footer-desc span {\r\n  color: #f2352e;\r\n  font-size: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=05bb2064&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=05bb2064&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05bb2064\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}